<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>scroll V2</title>
      <!-- Bootstrap CSS -->
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  
      <!-- jquery 설치 -->
      <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
      <!-- CSS -->
      <link href="0708_scrollEvent.css" rel="stylesheet">
</head>

<body>
    
    <nav class="navbar navbar-light bg-light">
        <div class="container-fluid">
          <span class="navbar-brand">JSShop</span>
          <span class="badge bg-dark"> Dark 🔄</span>
          <button class="navbar-toggler" type="button">
            <span class="navbar-toggler-icon"></span>
          </button>
        </div>
    </nav>

    <div class="lorem" style="width: 200px; height: 300px; overflow-y: scroll">
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quae voluptas voluptatum minus praesentium fugit debitis at, laborum ipsa itaque placeat sit, excepturi eius. Nostrum perspiciatis, eligendi quae consectetur praesentium exercitationem.Nostrum perspiciatis, eligendi quae consectetur praesentium exercitationem.Nostrum perspiciatis, eligendi quae consectetur praesentium exercitationem.Nostrum perspiciatis, eligendi quae consectetur praesentium exercitationem.
      </div> 

    <!-- 스크롤바 생성하기위해 1000px 박스 -->
    <div style="height: 1000px"></div>

<script>

    // div 스크롤바 내린 양 + 눈에 보이는 div 높이 == div 실제 높이
    // -10px 여유두고 
    $('.lorem').on('scroll', function(){
        var 스크롤양 = document.querySelector('.lorem').scrollTop;
        var 실제높이 = document.querySelector('.lorem').scrollHeight;
        var 높이 = document.querySelector('.lorem').clientHeight;
        if (스크롤양 + 높이 > 실제높이 - 10){
            alert('다읽음')
        }
    })

    //현재페이지 끝까지 스크롤 체크
    //현재 페이지 실제 높이
    document.querySelector('html').scrollHeight
    //페이지보이는 부분 높이
    document.querySelector('html').clientHeight
    //현재 스크롤 양
    window.scrollY


    // 스크롤바 움직일때마다 실행 : eventListener
    $(window).on('scroll', function(){
        if( window.scrollY > 100){
    $('.navbar-brand').css('font-size', '20px');
    } else {
        $('.navbar-brand').css('font-size', '25px');
    }
    })
  
</script>

</body>
</html>